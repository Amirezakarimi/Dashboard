# ادغام اعلانات تلگرام

این سند نحوه استفاده از قابلیت اعلانات تلگرام در داشبورد را توضیح می‌دهد.

## ویژگی‌ها

- ✅ اتصال به ربات تلگرام
- ✅ تست اتصال
- ✅ ارسال پیام تست
- ✅ اعلانات خودکار سیستم
- ✅ رابط کاربری فارسی و RTL
- ✅ پشتیبانی از انواع مختلف اعلانات (اطلاعاتی، موفقیت، هشدار، خطا)

## نحوه استفاده

### 1. ایجاد ربات تلگرام

1. در تلگرام، با @BotFather چت کنید
2. دستور `/newbot` را ارسال کنید
3. نام و نام کاربری ربات را وارد کنید
4. توکن ربات را کپی کنید

### 2. تنظیم اعلانات

1. به بخش "تنظیمات" بروید
2. تب "اعلانات" را انتخاب کنید
3. روی "مدیریت اعلانات" کلیک کنید
4. سوئیچ "فعال‌سازی اعلانات تلگرام" را روشن کنید
5. توکن ربات و شناسه چت را وارد کنید
6. روی "تست اتصال" کلیک کنید
7. تنظیمات را ذخیره کنید

### 3. تست سیستم

1. در داشبورد، بخش "تست سیستم اعلانات" را پیدا کنید
2. روی دکمه‌های مختلف کلیک کنید تا انواع مختلف اعلانات را تست کنید
3. اعلانات هم در مرورگر و هم در تلگرام نمایش داده خواهند شد

## فایل‌های مرتبط

- `src/components/profile/NotificationsSettingsDialog.js` - دیالوگ تنظیمات اعلانات
- `src/services/telegramService.js` - سرویس API تلگرام
- `src/contexts/NotificationContext.js` - کانتکست مدیریت اعلانات
- `src/components/NotificationDemo.js` - کامپوننت تست اعلانات

## API تلگرام

سرویس تلگرام از Telegram Bot API استفاده می‌کند:

```javascript
// ارسال پیام ساده
await telegramService.sendMessage('سلام دنیا!');

// ارسال اعلان فرمت شده
await telegramService.sendNotification({
  title: 'عنوان اعلان',
  message: 'متن اعلان',
  type: 'info', // info, success, warning, error
  timestamp: new Date().toISOString()
});

// اعلان سیستم
await telegramService.sendSystemNotification('عنوان', 'پیام', 'success');
```

## نکات مهم

- برای استفاده از اعلانات مرورگر، باید مجوز اعلانات را فعال کنید
- توکن ربات باید محرمانه نگه داشته شود
- شناسه چت می‌تواند @username یا شناسه عددی باشد
- در محیط production، بهتر است API calls از طریق backend انجام شود

## عیب‌یابی

### خطای "توکن ربات نامعتبر است"
- توکن ربات را بررسی کنید
- مطمئن شوید که ربات فعال است

### خطای "شناسه چت نامعتبر است"
- شناسه چت را بررسی کنید
- مطمئن شوید که ربات به چت دسترسی دارد

### اعلانات مرورگر نمایش داده نمی‌شود
- مجوز اعلانات را بررسی کنید
- مرورگر باید از Web Notifications پشتیبانی کند
